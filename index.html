<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Course Caddy – Signature Holes</title>
  <link rel="stylesheet" href="css/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- Page-local styles for this page -->
  <style>
    :root{
      --brand:#003C21;
      --ink:#111;
      --bg:#f8faf9;
      --card:#fff;
      --ring:#d1d5db;
    }

    /* Base */
    body{ margin:0; font-family:Segoe UI,Arial,sans-serif; background:var(--bg); color:var(--ink); }
    main{ max-width:1000px; margin:1rem auto; padding:1rem; }
    .card{ background:var(--card); border:1px solid var(--ring); border-radius:12px; }
    .pad{ padding:1rem; }
    .controls{ margin:1rem 0; display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; }
    input,select,button{ padding:.5rem; border:1px solid var(--ring); border-radius:8px; background:#fff; }

    /* Header/Nav (match site) */
    header{ background:var(--brand); border-bottom:none; }
    .nav{ max-width:1200px; margin:0 auto; padding:.75rem 1rem; display:flex; justify-content:space-between; align-items:center; }
    .nav-left{ display:flex; align-items:center; gap:.5rem; }
    .logo-img{ height:48px; width:auto; }
    .logo-text{ font-weight:800; font-size:1.25rem; color:#fff; letter-spacing:1px; }
    .tabs{ display:flex; gap:1rem; }
    .tab{ padding:.5rem 1rem; border-radius:999px; border:none; color:#fff; text-decoration:none; font-weight:600; }
    .tab.active{ background:#fff; color:var(--brand); }

    /* Table */
    #holesTable{ width:100%; border-collapse:separate; border-spacing:0; }
    #holesTable th, #holesTable td{ padding:1rem; text-align:left; vertical-align:middle; }
    #holesTable thead th{ border-bottom:1px solid var(--ring); }
    #holesTable tbody tr{ position:relative; }
    #holesTable tbody tr::after{
      content:""; position:absolute; left:0; right:0; bottom:0; height:1px;
      background:var(--ring); pointer-events:none;
    }
    #holesTable tbody tr:hover{ background:#f3f9f5; }

    /* Left column: heading above photo */
    .course-cell{ display:flex; flex-direction:column; align-items:center; text-align:center; gap:.5rem; }
    .course-name{ font-size:1.3rem; font-weight:700; color:var(--brand); line-height:1.3; }
    .signature-photo{
      width:320px; height:220px; object-fit:cover; border-radius:10px; border:1px solid var(--ring);
      background:#eee; cursor:pointer;
    }

    /* Right column details */
    .details{ text-align:center; display:flex; flex-direction:column; gap:.5rem; }
    .details .label{ font-weight:700; }

    /* Star ratings (horizontal with number under) */
    .stars{ display:flex; flex-direction:column; align-items:center; gap:.25rem; }
    .star-row{ display:inline-flex; gap:2px; white-space:nowrap; line-height:1; }
    .star{ font-size:22px; }
    .star.full{ color:#f4c430; }   /* gold */
    .star.empty{ color:#d9d9d9; }  /* light gray */
    .star.half{
      background:linear-gradient(90deg,#f4c430 50%,#d9d9d9 50%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .rating-number{ font-size:.85rem; color:#333; }

    /* Par checkbox group */
    .checkset{
      display:inline-flex; gap:.75rem; align-items:center;
      padding:.25rem .5rem; background:#fff; border:1px solid var(--ring); border-radius:8px;
    }
    .checkset label{ display:inline-flex; gap:.35rem; align-items:center; font-weight:600; }


    /* Lightbox modal: consistent pop size */
    .modal{
      display:none; position:fixed; inset:0; z-index:1000; background:rgba(0,0,0,.8);
      justify-content:center; align-items:center;
    }
    .modal img{
      max-width:900px;  /* fixed maximum width for consistency */
      max-height:600px; /* fixed maximum height for consistency */
      width:100%; height:auto; border-radius:12px; box-shadow:0 0 20px rgba(0,0,0,.6);
    }
    .modal-close{
      position:absolute; top:20px; right:30px; font-size:32px; font-weight:700; color:#fff; cursor:pointer;
    }
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="nav-left">
        <img src="assets/photos/CClogo.png" alt="Caddy Compass Logo" class="logo-img" />
        <span class="logo-text">CADDY COMPASS</span>
      </div>
      <div class="tabs">
        <a href="index.html" class="tab active">Home</a>
        <a href="holes.html" class="tab">Signature Holes</a>
        <a href="courses.html" class="tab">Courses</a>
        <a href="review.html" class="tab">Review</a>
      </div>
    </nav>
  </header>

  <main>
    <h1 class="page-title">Signature Holes of South Carolina</h1>

    <section class="card pad">
      <div id="featured" class="hole-grid three-wide"></div>
      <div id="noPhotos" style="display:none; text-align:center; color:#666; padding:.5rem 0;">
        No photos found yet. Add photos to <code>assets/photos/</code> and set the <b>photo</b> column in <code>assets/courses_holes.csv</code>.
      </div>
    </section>

    <section class="grid" style="margin-top:1rem">
      <div class="col-4 card pad">
        <h2>Purpose</h2>
        <p> Explore South Carolina’s Golf Courses and <strong>Signature Holes</strong> with searchable stats and community ratings. Caddy Compass is here to give golfers in South Carolina a way to compare golf courses easily with a special emphasis on <strong>Individual Holes</strong> ratings and statistical information. It will bring together important details like course difficulty, yardage, slope, price, and user ratings including individual holes all into one place.</p>

        <h2>About</h2>
        <p>Currently, golfers have many different sites to get information on courses, but they usually focus on comparing prices and tee times. Caddy Compass solves this problem by creating one central site where golfers can compare courses directly and uniquely compare hole by hole. Many courses have one or two signature holes and compass caddy will put them against each. A problem that will need to be overcome is that there is not much data about individual holes readily available and this will require user participation.  </p>
</p>
      </div>
    </section>
  </main>

  <!-- keep ONLY this footer (remove any other <footer> above) -->
  <footer class="site-footer">
    <div class="footer-top">
      <div class="ft-col">
        <h4>Information</h4>
        <p><a href="#">Privacy policy</a> / <a href="#">Terms of use</a></p>
      </div>

      <div class="ft-col center">
        <h4><button class="back-to-top" type="button">Back to top.</button></h4>
       
      </div>

      <div class="ft-col right">
        <h4>Stay connected</h4>
        <form id="newsletter" class="newsletter" novalidate>
          <input type="email" placeholder="*Email" aria-label="Email" required />
          <button type="submit">Join</button>
        </form>
      </div>
    </div>

    <div class="footer-divider"></div>
          <div class="ft-col center">
       
        <div class="social">
          <a href="#" aria-label="X / Twitter" class="ico">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M18.244 2H21l-6.478 7.41L22 22h-6.778l-5.3-6.9L3.7 22H1l6.956-7.956L2 2h6.778l4.74 6.176L18.244 2Zm-1.188 18h1.66L7.06 4H5.4l11.656 16Z"/></svg>
          </a>
          <a href="#" aria-label="Facebook" class="ico">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07C2 17.08 5.66 21.2 10.44 22v-7.02H7.9V12h2.54V9.8c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.47h-1.26c-1.24 0-1.62.77-1.62 1.56V12h2.76l-.44 2.98h-2.32V22C18.34 21.2 22 17.08 22 12.07Z"/></svg>
          </a>
          <a href="#" aria-label="Instagram" class="ico">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm0-5C8.14 2 7.6 2.02 6.1 2.1 4.6 2.18 3.52 2.43 2.63 2.83A4.93 4.93 0 0 0 .83 4.63C.43 5.52.18 6.6.1 8.1.02 9.6 0 10.14 0 14s.02 4.4.1 5.9c.08 1.5.33 2.58.73 3.47.41.89 1.19 1.67 2.08 2.07.89.41 1.97.66 3.47.74 1.5.08 2.04.1 5.9.1s4.4-.02 5.9-.1c1.5-.08 2.58-.33 3.47-.74a4.93 4.93 0 0 0 1.8-1.8c.4-.89.65-1.97.73-3.47.08-1.5.1-2.04.1-5.9s-.02-4.4-.1-5.9c-.08-1.5-.33-2.58-.73-3.47a4.93 4.93 0 0 0-1.8-1.8c-.89-.4-1.97-.65-3.47-.73C16.4 2.02 15.86 2 12 2Zm0 3c3.8 0 4.25.02 5.75.1 1.24.06 1.91.26 2.35.43.59.23 1 .5 1.43.93.42.42.7.84.93 1.43.17.44.37 1.11.43 2.35.08 1.5.1 1.95.1 5.75s-.02 4.25-.1 5.75c-.06 1.24-.26 1.91-.43 2.35a3 3 0 0 1-.93 1.43 3 3 0 0 1-1.43.93c-.44.17-1.11.37-2.35.43-1.5.08-1.95.1-5.75.1s-4.25-.02-5.75-.1c-1.24-.06-1.91-.26-2.35-.43a3 3 0 0 1-1.43-.93 3 3 0 0 1-.93-1.43c-.17-.44-.37-1.11-.43-2.35C2.02 16.25 2 15.8 2 12s.02-4.25.1-5.75c.06-1.24.26-1.91.43-2.35.23-.59.5-1 .93-1.43.42-.42.84-.7 1.43-.93.44-.17 1.11-.37 2.35-.43C7.75 5.02 8.2 5 12 5Zm6.5 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"/></svg>
          </a>
        </div>
      </div>

    <div class="footer-bottom">
      <div class="designer">Designed by Michael Gilroy</div>
      <div class="copyright">© Copyright 2025 Caddy Compass. All rights reserved.</div>
      <div class="contact">
        <div class="contact-title">Contact Info</div>
        <div>Ph: 555-555-5555</div>
        <div>Email: Gilroymj@email.sc.edu</div>
        <div>Myrtle Beach, SC</div>
      </div>
      <img class="footer-logo" src="assets/photos/CClogo.png" alt="Caddy Compass" />
    </div>
  </footer>

  <!-- Lightbox modal -->
  <div id="photoModal" class="modal" aria-hidden="true">
    <span class="modal-close" title="Close" aria-label="Close">&times;</span>
    <img src="" alt="" id="modalImg">
  </div>

  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    const $ = s => document.querySelector(s);

    async function loadCSV(path){
      const res = await fetch(path);
      const txt = await res.text();
      return Papa.parse(txt, {header:true, skipEmptyLines:true}).data;
    }
    const cleanPhotoPath = v => (v||'').trim().replace(/^assets\//i,'').replace(/^photos\//i,'');

    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a; }
    function uniqueByCourse(rows){
      const seen = new Set(), out=[];
      for(const r of rows){
        const k=(r.Course||'').trim().toLowerCase();
        if(!k || seen.has(k)) continue;
        seen.add(k); out.push(r);
      }
      return out;
    }

    function renderFeatured(rows){
      const withPhotos = rows.filter(r=>{
        const p = cleanPhotoPath(r.photo);
        if(!p) return false;
        const f = p.split('/').pop().toLowerCase();
        return f && f!=='nophoto.png';
      });
      const picks = shuffle(uniqueByCourse(withPhotos)).slice(0,3);

      const box = $('#featured');
      box.innerHTML = '';

      if(!picks.length){ $('#noPhotos').style.display='block'; return; }

      for(const r of picks){
        const src = 'assets/photos/' + cleanPhotoPath(r.photo);
        const card = document.createElement('div');
        card.className = 'hole-card';
        card.innerHTML = `
          <img class="hole-img" src="${src}" alt="${r.Course||''} — Hole ${r.Hole||''}">
          <div class="hole-title" style="font-weight:800;color:var(--brand);margin-top:.5rem">${r.Course||''}</div>
          <div class="hole-sub" style="color:#444">Hole ${r.Hole||''}${r.par?` · Par ${r.par}`:''}${r.yardage?` · ${r.yardage} yds`:''}</div>
        `;
        card.querySelector('.hole-img').addEventListener('click', ()=>{
          const modal = $('#photoModal'); const img=$('#modalImg');
          img.src = src; modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
        });
        box.appendChild(card);
      }
    }

    // modal close
    document.addEventListener('click', (e)=>{
      const m = $('#photoModal');
      if(e.target.classList.contains('modal-close') || e.target===m){
        m.classList.remove('show'); m.setAttribute('aria-hidden','true'); $('#modalImg').src='';
      }
    });
    document.addEventListener('keydown', e=>{
      if(e.key==='Escape'){ const m=$('#photoModal'); if(m.classList.contains('show')){ m.classList.remove('show'); $('#modalImg').src=''; } }
    });

    // back to top + newsletter stub
    document.addEventListener('click',(e)=>{
      if(e.target.closest('.back-to-top')) window.scrollTo({top:0, behavior:'smooth'});
    });
    const form = document.getElementById('newsletter');
    if(form){ form.addEventListener('submit', e=>{ e.preventDefault(); alert('Thanks!'); form.reset(); }); }

    (async ()=>{
      const rows = await loadCSV('assets/courses_holes.csv');
      renderFeatured(rows);
    })();
  </script>
</body>
